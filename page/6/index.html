<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>sergem's personal public notebook</title><meta name=description content="Personal public notebook"><meta name=author content="serge-m"><link rel=canonical href=https://serge-m.github.io/><link href=/assets/css/stylesheet.min.6d98a2276d0cb41ef459267b3ff3ef02df70a8f16b70bbc52b20568702bc90cf.css integrity="sha256-bZiiJ20MtB70WSZ7P/PvAt9wqPFrcLvFKyBWhwK8kM8=" rel="preload stylesheet" as=style><link rel=icon href=https://serge-m.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://serge-m.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://serge-m.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://serge-m.github.io/apple-touch-icon.png><link rel=mask-icon href=https://serge-m.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.113.0"><link rel=alternate type=application/rss+xml href=https://serge-m.github.io/index.xml><link rel=alternate type=application/json href=https://serge-m.github.io/index.json><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-40853494-2","auto"),ga("send","pageview"))</script><meta property="og:title" content="sergem's personal public notebook"><meta property="og:description" content="Personal public notebook"><meta property="og:type" content="website"><meta property="og:url" content="https://serge-m.github.io/"><meta property="og:image" content="https://serge-m.github.io/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://serge-m.github.io/papermod-cover.png"><meta name=twitter:title content="sergem's personal public notebook"><meta name=twitter:description content="Personal public notebook"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"sergem's personal public notebook","url":"https://serge-m.github.io/","description":"Personal public notebook","thumbnailUrl":"https://serge-m.github.io/favicon.ico","sameAs":["https://github.com/serge-m/serge-m.github.io","index.xml"]}</script></head><body class=list id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://serge-m.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://serge-m.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://serge-m.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://serge-m.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://serge-m.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>Speed up make/cmake build with multiprocessing</h2></header><section class=entry-content><p>Build time can be reduced by using multiple cores of your processor.
Parallelization for make:
make -j8 Parallelization for cmake:
cmake --build &lt;bindir> -- -j 8 Sometimes you cannot pass parameters directly to make. For example you are installing a python module using
python setup.py install Setup script doesn’t accept parameters. Then you could pass them through environment variables:
export MAKEFLAGS="-j 8" see also
intro to CMake video, russian.</p></section><footer class=entry-footer>July 29, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Speed up make/cmake build with multiprocessing" href=https://serge-m.github.io/posts/parallel-builds/></a></article><article class=post-entry><header class=entry-header><h2>Add months to datetime in python</h2></header><section class=entry-content><p>1 2 3 4 5 import datetime from dateutil.relativedelta import relativedelta your_datetime = datetime.datetime.now() your_datetime + relativedelta(months=1) # adds one month That function clips the overflowing day of the months:
1 2 3 4 5 6 7 8 9 10 >>> datetime(2021, 1, 28) + relativedelta(months=1) datetime.datetime(2021, 2, 28, 0, 0) >>> datetime(2021, 1, 29) + relativedelta(months=1) datetime.datetime(2021, 2, 28, 0, 0) >>> datetime(2021, 1, 30) + relativedelta(months=1) datetime.datetime(2021, 2, 28, 0, 0) >>> datetime(2021, 1, 31) + relativedelta(months=1) datetime....</p></section><footer class=entry-footer>July 20, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Add months to datetime in python" href=https://serge-m.github.io/posts/add-months-to-datetime-in-python/></a></article><article class=post-entry><header class=entry-header><h2>Module import in python</h2></header><section class=entry-content><p>Import module by path/name 1 2 import importlib module = importlib.import_module(module_path) Find class implementing certain interface in a module 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 def load_class_from_module(module_path: str, target_class: type) -> type: module = importlib.import_module(module_path) list_classes = get_all_classes_implementing_interface(module, target_class) if not list_classes: raise RuntimeError("Unable to find implemented interface {} in {}".format(target_class, module_path)) if len(list_classes) > 1: raise RuntimeError("More then 1 implementation of {} was found in {}"....</p></section><footer class=entry-footer>July 9, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Module import in python" href=https://serge-m.github.io/posts/module-import-in-python/></a></article><article class=post-entry><header class=entry-header><h2>Argparse recipies</h2></header><section class=entry-content><p>How to include default values in ‘–help’ 1 2 3 parser = argparse.ArgumentParser( # ... other options ... formatter_class=argparse.ArgumentDefaultsHelpFormatter) Output looks like this:
1 2 3 --scan-time [SCAN_TIME] Wait SCAN-TIME seconds between status checks. (default: 5) Another tip: add ‘%(default)’ to the help parameter to control what is displayed.
1 2 parser.add_argument("--type", default="toto", choices=["toto","titi"], help = "type (default: %(default)s)") source</p></section><footer class=entry-footer>June 24, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Argparse recipies" href=https://serge-m.github.io/posts/python-argparse-recipies/></a></article><article class=post-entry><header class=entry-header><h2>Useful console commands</h2></header><section class=entry-content><p>Some linux commands that I’ll probably need in the future
User management Add user to a group
sudo usermod -aG group user or
sudo adduser &lt;user> &lt;group> Delete user
userdel user Delete the user’s home directory and mail spool:
userdel -r user Remove user from a group
sudo gpasswd -d user group list all users:
$ getent passwd list all groups:
$ getent group list all groups of the current user:...</p></section><footer class=entry-footer>June 9, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Useful console commands" href=https://serge-m.github.io/posts/useful-console-commands/></a></article><article class=post-entry><header class=entry-header><h2>Markdown tricks</h2></header><section class=entry-content><p>Expandable / collapsible code blocks in github The text is shown on click.
1 2 3 4 &lt;details> &lt;summary>Click to expand&lt;/summary> your hidden code &lt;/details> Results:
Click to expand your hidden code Source</p></section><footer class=entry-footer>June 9, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Markdown tricks" href=https://serge-m.github.io/posts/markdown-tricks/></a></article><article class=post-entry><header class=entry-header><h2>Streaming camera output from Raspberry Pi</h2></header><section class=entry-content><p>Task was to transmit image from camera on raspberry pi through web interface to the PC. PC is connected to raspberry through local network.
Enable camera on your raspberry pi in raspi-conf. Reboot. Save the following source code to a file on your raspberry (let’s say streaming.py) do sudo pip3 install picamera run python3 streaming.py on the target machine (PC) go to http://&lt;your raspberry ip or host name>:8000. output from the camera must be streaming in realtime....</p></section><footer class=entry-footer>May 23, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Streaming camera output from Raspberry Pi" href=https://serge-m.github.io/posts/streaming-camera-output-from-raspberry-pi/></a></article><article class=post-entry><header class=entry-header><h2>Rest API for TensorFlow model</h2></header><section class=entry-content><p>TensorFlow Serving, sources - library for serving machine learning models. Written in C++ and Python. Server is in C++. Requires Bazel - Google’s build tool. Doesn’t work with python 3. Probably fast.
TensorFlow: How to freeze a model and serve it with a python API
Building a Machine Learning App with AWS Lambda (slides)
Pipeline.io - End-to-End, Continuous Spark ML + Tensorflow AI Data Pipelines, Sources
Interesting thread. They propose to use “saved_model_cli binary (in tools/), which you can feed a SavedModel, and pass input data via files....</p></section><footer class=entry-footer>May 21, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Rest API for TensorFlow model" href=https://serge-m.github.io/posts/rest-api-for-tensorflow-model/></a></article><article class=post-entry><header class=entry-header><h2>Math explained and visualized</h2></header><section class=entry-content><p>Here I will collect links to well-written articles about math and algorithms.
Visual Information Theory. Nice post about probabilities, entropy. The whole blog has awesome visualizations. Highly recommended.
MNIST For ML Beginners - Nice introduction into machine learning with TensorFlow
Brilliantly wrong - blog by Alex Rogozhnikov, with fantastic visualizations of many algorithms and concepts
Collection of data science notebooks.
Deconvolution and Checkerboard Artifacts by Odena, et al., 2016 - explanation of deconvolution operation in neural networks with awesome interactive visualizations...</p></section><footer class=entry-footer>May 20, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Math explained and visualized" href=https://serge-m.github.io/posts/math-exmplined-and-visualized/></a></article><article class=post-entry><header class=entry-header><h2>Crawling tools</h2></header><section class=entry-content><p>Headless Chromium
Splash - A javascript rendering service. guthub
https://scrapy.org/ - An open source and collaborative framework for extracting the data you need from websites.
Web crawler с использованием Python и Chrome</p></section><footer class=entry-footer>May 17, 2017&nbsp;·&nbsp;SergeM</footer><a class=entry-link aria-label="post link to Crawling tools" href=https://serge-m.github.io/posts/crawling-tools/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://serge-m.github.io/page/5/>« Prev Page</a>
<a class=next href=https://serge-m.github.io/page/7/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://serge-m.github.io/>sergem's personal public notebook</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById("menu").scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById("menu").scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>