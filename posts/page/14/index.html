<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | sergem&#39;s personal public notebook</title>
<meta name="keywords" content="" />
<meta name="description" content="Personal public notebook">
<meta name="author" content="serge-m">
<link rel="canonical" href="https://serge-m.github.io/posts/" />
<link href="/assets/css/stylesheet.min.4a7c1baa41934a41353b5c02dd9ecd335d4e6b47f3fa5a187a77574ac682b8ac.css" integrity="sha256-SnwbqkGTSkE1O1wC3Z7NM11Oa0fz&#43;loYendXSsaCuKw=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://serge-m.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://serge-m.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://serge-m.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://serge-m.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://serge-m.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.82.0" />
<link rel="alternate" type="application/rss&#43;xml" href="https://serge-m.github.io/posts/index.xml">

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-40853494-2', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Posts" />
<meta property="og:description" content="Personal public notebook" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://serge-m.github.io/posts/" /><meta property="og:image" content="https://serge-m.github.io/papermod-cover.png"/>

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://serge-m.github.io/papermod-cover.png"/>

<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Personal public notebook"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://serge-m.github.io/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://serge-m.github.io/" accesskey="h" title="Home (Alt + H)">Home</a>
            <span class="logo-switches">
            </span>
        </div>
        <ul id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://serge-m.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://serge-m.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://serge-m.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://serge-m.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://serge-m.github.io/">Home</a></div>
  <h1>Posts</h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Loading numpy array from string</h2>
  </header>
  <section class="entry-content">
    <p>Okay children, today we learn how to convert text to numpy matrix. Source is [here](http://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.html&#34; target=&#34;_blank).
# loading modules import numpy from StringIO import StringIO # Using StringIO as a file-like wrapper over text I0 = numpy.loadtxt(StringIO(&#34;&#34;&#34; 0 0 0 0 0 0 0 0.5000 0 0 0 0 1.0000 0 0 0 0 0.5000 0 0 0 1.0000 0 0 0 0 0.5000 0 0 0 0 0.5000 1.0000 0 0 0 0 0 0 0&#34;...</p>
  </section>
  <footer class="entry-footer">November 17, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Loading numpy array from string" href="https://serge-m.github.io/posts/loading-numpy-array-from-string/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Quiver for optical flow</h2>
  </header>
  <section class="entry-content">
    <p>Standard matlab’s quiver function has axis origin in left bottom corner, however, images have origin in top left corner. To display optical flow vector field consistenly i use the following fucntion:
function [ output ] = quiver_flow( u, v ) %QUIVER_FLOW Displays quiver for optical flow % SMatyunin2014 output = quiver( u, v, 0); axis ij; end  </p>
  </section>
  <footer class="entry-footer">November 6, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Quiver for optical flow" href="https://serge-m.github.io/posts/quiver-for-optical-flow/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Simple tests of classic OF methods</h2>
  </header>
  <section class="entry-content">
    <p>BA method, simple synthetic images For simple synthetic images:
I0 = 0 0.5000 0 0 1.0000 0 0 0.5000 0 0.1000 0 0 0.0500 0 0 0.0500 0.1000 0 I1 = 0.5000 0 0 1.0000 0 0 0.5000 0 0 0 0.1000 0 0 0.0500 0 0 0.0500 0.1000 Running code by D.Sun. Disabled texture decomposition, disabled multiscale processing.
uv = estimate_flow_interface(I0, I1, &#39;classic-c-brightness&#39;, [], {&#39;display&#39;, 1, &#39;pyramid_levels&#39;, 1, &#39;gnc_pyramid_levels&#39;, 1}); After first iteration ( loop for ignc = 1:this....</p>
  </section>
  <footer class="entry-footer">November 5, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Simple tests of classic OF methods" href="https://serge-m.github.io/posts/simple-tests-of-classic-of-methods/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Graduated non convexity scheme (GNC)</h2>
  </header>
  <section class="entry-content">
    <p>Optimization of energy terms can be difficult in OF, because of non-convexity and local optima. Construct a series of energy functions
EQ is convex, quadratic alpha changes from 1 to 0, so Energy Ec changes from quadratic to original. for each alpha they find optimum through setting derivatives of Ec to 0. Solution on each stage becomes initialization on the next one.
Proposed in: D. Sun, S. Roth, J. Lewis, and M....</p>
  </section>
  <footer class="entry-footer">November 5, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Graduated non convexity scheme (GNC)" href="https://serge-m.github.io/posts/graduated-non-convexity-scheme-gnc/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Investigating optical flow by D. Sun (Secrets of optical flow)</h2>
  </header>
  <section class="entry-content">
    <p>Personal page of the author: http://cs.brown.edu/~dqsun/research/index.html
Original paper: http://cs.brown.edu/~dqsun/pubs/cvpr_2010_flow.pdf
Newer paper: Deqing Sun, Stefan Roth, and Michael J. Black. “A Quantitative Analysis of Current Practices in Optical Flow Estimation and the Principles Behind Them”. International Journal of Computer Vision (IJCV), 2013 [ pdf] [Source code]
Look inside the sources:
 @alt_ba_optical_flow\ @ba_optical_flow\ ... compute_flow_base.m itarates:
  Iterate flow computation
  Linearization update, for j = 1:this.max_linear. In the simple case max_linear==1, when I use x = A\b solver for linear system....</p>
  </section>
  <footer class="entry-footer">November 5, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Investigating optical flow by D. Sun (Secrets of optical flow)" href="https://serge-m.github.io/posts/investigating-optical-flow-by-d-sun/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Code highlight in blogger</h2>
  </header>
  <section class="entry-content">
    <p>Source
place following code before your &lt;head&gt; tag in the HTML of your blogger template:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  &lt;link href=&#34;http://alexgorbatchev.com/pub/sh/current/styles/shCore.css&#34; rel=&#34;stylesheet&#34; type=&#34;text/css&#34;&gt;&lt;/link&gt; &lt;link href=&#34;http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css&#34; rel=&#34;stylesheet&#34; type=&#34;text/css&#34;&gt;&lt;/link&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCSharp.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCss.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPhp.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPython.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev.com/pub/sh/current/scripts/shBrushRuby.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; &lt;script src=&#34;http://alexgorbatchev....</p>
  </section>
  <footer class="entry-footer">November 4, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Code highlight in blogger" href="https://serge-m.github.io/posts/11/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Save Ipython notebook as script with the same filename</h2>
  </header>
  <section class="entry-content">
    <p>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  # creating a variable theNotebook with the name of notebook # source: http://stackoverflow.com/a/23619544 # In[1]: %%javascript var kernel = IPython.notebook.kernel; var thename = window.document.getElementById(&#34;notebook_name&#34;).innerHTML; var command = &#34;theNotebook = &#34; &#43; &#34;&#39;&#34;&#43;thename&#43;&#34;&#39;&#34;; kernel.execute(command); # saving to a directory &#39;backup&#39;. create the directory if it doesn&#39;t exist # source http://stackoverflow....</p>
  </section>
  <footer class="entry-footer">September 21, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Save Ipython notebook as script with the same filename" href="https://serge-m.github.io/posts/save-ipython-notebook-as-script-with/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Python equivalent of interp2</h2>
  </header>
  <section class="entry-content">
    <p>I wrote python version of interp2(z, xi, yi,‘linear’) from matlab
https://github.com/serge-m/pyinterp2</p>
  </section>
  <footer class="entry-footer">September 16, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Python equivalent of interp2" href="https://serge-m.github.io/posts/python-equivalent-of-interp2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Simple occlusion filling for depth maps</h2>
  </header>
  <section class="entry-content">
    <p>As an example I use images from middleburry. Solution is very dirty and slow.
[https://github.com/serge-m/depth_map_occlusion](https://github.com/serge-m/depth_map_occlusion&#34; target=&#34;_blank)
# In[1]: import numpy import scipy import matplotlib.pyplot as plt
In[2]: from scipy import ndimage import numpy as np
kernels for shift k = np.array([ [[0,0,0], [0,0,1], [0,0,0],], [[0,1,0], [0,0,0], [0,0,0],], [[0,0,0], [1,0,0], [0,0,0],], [[0,0,0], [0,0,0], [0,1,0],], [[1,0,0], [0,0,0], [0,0,0],], [[0,0,1], [0,0,0], [0,0,0],], [[0,0,0], [0,0,0], [0,0,1],], [[0,0,0], [0,0,0], [1,0,0],], ])  In[8]: from scipy import misc...</p>
  </section>
  <footer class="entry-footer">September 1, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to Simple occlusion filling for depth maps" href="https://serge-m.github.io/posts/simple-occlusion-filling-for-depth-maps/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>ipython. save notebook as script</h2>
  </header>
  <section class="entry-content">
    <p>Joint solution from [http://stackoverflow.com/a/23619544](http://stackoverflow.com/a/23619544&#34; target=&#34;_blank) and [http://stackoverflow.com/a/19067979](http://stackoverflow.com/a/19067979&#34; target=&#34;_blank)
# [1] %%javascript var kernel = IPython.notebook.kernel; var thename = window.document.getElementById(&#34;notebook_name&#34;).innerHTML; var command = &#34;theNotebook = &#34; &#43; &#34;&#39;&#34;&#43;thename&#43;&#34;&#39;&#34;; kernel.execute(command); [2] try : if(__IPYTHON__) : get_ipython().system(u’ipython nbconvert –to python {}.ipynb&#39;.format(theNotebook)) except NameError : pass</p>
  </section>
  <footer class="entry-footer">August 31, 2014&nbsp;·&nbsp;SergeM</footer>
  <a class="entry-link" aria-label="post link to ipython. save notebook as script" href="https://serge-m.github.io/posts/ipython-save-notebook-as-script/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://serge-m.github.io/posts/page/13/">« Prev Page</a>
    <a class="next" href="https://serge-m.github.io/posts/page/15/">Next Page »</a>
  </nav>
</footer>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://serge-m.github.io/">sergem&#39;s personal public notebook</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
