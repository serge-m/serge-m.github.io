<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Raspberry Pi Links | sergem's personal public notebook</title><meta name=keywords content="links,raspberry,pi,servo,stepper,motor shield,pwm,raspberry pi,ssh,pca9685"><meta name=description content="I2C interface Description of I2C interface
Raspberry Pi SPI and I2C Tutorial Continuous deployment (Russian) Непрерывная кросс компиляция на Raspberry PI
Controlling motors Brushless motor Control brushless motor with ESC. Without additional controllers
With PCA9685 PWM Board (stackexchange thread)
One more thread
Controlling multiple servos To control multiple servos you can use PCA9685 controller. Connection is shown below. It&rsquo;s better to connect VCC of the controller (red wire) to +5V or raspberry or to external power supply."><meta name=author content="SergeM"><link rel=canonical href=https://serge-m.github.io/posts/raspberry-pi-links/><link href=/assets/css/stylesheet.min.6d98a2276d0cb41ef459267b3ff3ef02df70a8f16b70bbc52b20568702bc90cf.css integrity="sha256-bZiiJ20MtB70WSZ7P/PvAt9wqPFrcLvFKyBWhwK8kM8=" rel="preload stylesheet" as=style><link rel=icon href=https://serge-m.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://serge-m.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://serge-m.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://serge-m.github.io/apple-touch-icon.png><link rel=mask-icon href=https://serge-m.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.110.0"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-40853494-2","auto"),ga("send","pageview"))</script><meta property="og:title" content="Raspberry Pi Links"><meta property="og:description" content="I2C interface Description of I2C interface
Raspberry Pi SPI and I2C Tutorial Continuous deployment (Russian) Непрерывная кросс компиляция на Raspberry PI
Controlling motors Brushless motor Control brushless motor with ESC. Without additional controllers
With PCA9685 PWM Board (stackexchange thread)
One more thread
Controlling multiple servos To control multiple servos you can use PCA9685 controller. Connection is shown below. It&rsquo;s better to connect VCC of the controller (red wire) to +5V or raspberry or to external power supply."><meta property="og:type" content="article"><meta property="og:url" content="https://serge-m.github.io/posts/raspberry-pi-links/"><meta property="og:image" content="https://serge-m.github.io/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-12-31T21:30:00+00:00"><meta property="article:modified_time" content="2016-12-31T21:30:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://serge-m.github.io/papermod-cover.png"><meta name=twitter:title content="Raspberry Pi Links"><meta name=twitter:description content="I2C interface Description of I2C interface
Raspberry Pi SPI and I2C Tutorial Continuous deployment (Russian) Непрерывная кросс компиляция на Raspberry PI
Controlling motors Brushless motor Control brushless motor with ESC. Without additional controllers
With PCA9685 PWM Board (stackexchange thread)
One more thread
Controlling multiple servos To control multiple servos you can use PCA9685 controller. Connection is shown below. It&rsquo;s better to connect VCC of the controller (red wire) to +5V or raspberry or to external power supply."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://serge-m.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Raspberry Pi Links","item":"https://serge-m.github.io/posts/raspberry-pi-links/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Raspberry Pi Links","name":"Raspberry Pi Links","description":"I2C interface Description of I2C interface\nRaspberry Pi SPI and I2C Tutorial Continuous deployment (Russian) Непрерывная кросс компиляция на Raspberry PI\nControlling motors Brushless motor Control brushless motor with ESC. Without additional controllers\nWith PCA9685 PWM Board (stackexchange thread)\nOne more thread\nControlling multiple servos To control multiple servos you can use PCA9685 controller. Connection is shown below. It\u0026rsquo;s better to connect VCC of the controller (red wire) to +5V or raspberry or to external power supply.","keywords":["links","raspberry","pi","servo","stepper","motor shield","pwm","raspberry pi","ssh","pca9685"],"articleBody":"I2C interface Description of I2C interface\nRaspberry Pi SPI and I2C Tutorial Continuous deployment (Russian) Непрерывная кросс компиляция на Raspberry PI\nControlling motors Brushless motor Control brushless motor with ESC. Without additional controllers\nWith PCA9685 PWM Board (stackexchange thread)\nOne more thread\nControlling multiple servos To control multiple servos you can use PCA9685 controller. Connection is shown below. It’s better to connect VCC of the controller (red wire) to +5V or raspberry or to external power supply.\nYou have to enable I2C interface first with `sudo raspi-config`. Choose \"Interfacing Options\" -\u003e \"I2C\" -\u003e \"Enable\". Now installing the diagnostic tool and running:\nsudo apt-get install -y i2c-tools sudo i2cdetect -y 1 0 1 2 3 4 5 6 7 8 9 a b c d e f 00: -- -- -- -- -- -- -- -- -- -- -- -- -- 10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 40: 40 -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 70: 70 -- -- -- -- -- -- -- Now we can install library:\npip install Adafruit_PCA9685 and run a simple program:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 # sample.py # Simple demo of of the PCA9685 PWM servo/LED controller library. # This will move channel 0 from min to max position repeatedly. # Author: Tony DiCola # License: Public Domain from __future__ import division import time # Import the PCA9685 module. import Adafruit_PCA9685 # Uncomment to enable debug output. #import logging #logging.basicConfig(level=logging.DEBUG) # Initialise the PCA9685 using the default address (0x40). pwm = Adafruit_PCA9685.PCA9685() # Alternatively specify a different address and/or bus: #pwm = Adafruit_PCA9685.PCA9685(address=0x41, busnum=2) # Configure min and max servo pulse lengths servo_min = 150 # Min pulse length out of 4096 servo_max = 600 # Max pulse length out of 4096 # Helper function to make setting a servo pulse width simpler. def set_servo_pulse(channel, pulse): pulse_length = 1000000 # 1,000,000 us per second pulse_length //= 60 # 60 Hz print('{0}us per period'.format(pulse_length)) pulse_length //= 4096 # 12 bits of resolution print('{0}us per bit'.format(pulse_length)) pulse *= 1000 pulse //= pulse_length pwm.set_pwm(channel, 0, pulse) # Set frequency to 60hz, good for servos. pwm.set_pwm_freq(60) print('Moving servo on channel 0, press Ctrl-C to quit...') while True: # Move servo on channel O between extremes. pwm.set_pwm(0, 0, servo_min) time.sleep(1) pwm.set_pwm(0, 0, servo_max) time.sleep(1) running:\npython sample.py To control more than 16 servose one can chain multiple drivers. See Chaining Drivers section for details. Some soldering is required to assign a unique address for each driver.\nSee alow:\ndatasheet Adafruit 16 Channel Servo Driver with Raspberry Pi Created by Kevin Townsend. pdf. (pca-9685) troubleshooting Controlling one servo. No additional controllers needed Stepper motors / DC (brushed) motors with l293d\n[Raspberry] Stepper and dc motor using specializer HAT\nBased on PC9865 PWM and TB6612 chipset. 1.2A per channel current capability (20ms long bursts of 3A peak)\n[Arduino] With adafruit motor schield v1\nBased on 74HC595N Serial to parallel output latch and L293D driver. 0.6A per bridge (1.2A peak) with thermal shutdown protection, 4.5V to 25V.\nLibrary for motor control See also about SN74HC595 shift register\n[Arduino] With adafruit motor shield v2\nBased on PCA9685 and TB6612 MOSFET drivers with 1.2A per channel current capability ( up to 3A peak for approx 20ms at a time)\n[Raspberry] Drive a DC motor forward and in reverse with variable speed (with l293d, adafruit lesson 9)\n[Micropython board] Control dc motor with pca9685\n[Raspberry] Video with just simple transistor scheme and with L293D controller\n[Raspberry] using L293D and 4N35 opto isolator\n[Arduino] 1 bidirectional DC motor using small DRV8871 motor driver\nUp to 45V and 3.6A of motor control\nIt is possible to have frequency controlled dc driver connected through Adafruit 16 Channel Servo Driver. See post. controller, ~100 Euro, powerfull\n[Arduino] using drv8833 driver,\n[Arduino] using l293d\nUsing transistors: (1)[http://electronics.stackexchange.com/questions/7235/motor-driver-using-only-a-2n2222-transistor], very weak\nConnecting via ssh: ssh -Y user@raspberrypi-url Access rasbberry Pi without monitor and ethernet Assuming we have an operating system (raspbian) installed.\nPlug the SD-card into a computer.\nAutomatic connection to wifi. Edit /etc/wpa_supplicant/wpa_supplicant.conf and add the following lines:\nnetwork={ ssid=\"my-network-name\" psk=\"my-network-pass\" } In the end the file should look like this:\ncountry=GB ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev update_config=1 network={ ssid=\"my-network-name\" psk=\"my-network-pass\" } country field is essential. Wifi wont work without it. In the log you will see raspberrypi systemd[1]: Started Disable WiFi if country not set.\nIf you need to support multiple wifi connections use id_str field:\nnetwork={ ssid=\"my-network-name\" psk=\"my-network-pass\" id_str=\"net1\" } network={ ssid=\"another-network\" psk=\"another pass\" id_str=\"net2\" } Enable SSH access. Create an empty file ssh in /boot/.\nPlug the card back into your raspberry, turn on.\nNow you can connect to raspberry via ssh:\nssh pi@raspberrypi or\nssh pi@ Reading input (button) from GPIO without interrupts, raspi.tv\nRaspberryPi Zero pins Layout image source\nInteractive website for pinout of Raspberry Pi for different interfaces Pinout\nDonkey car Requirements for running donkey car:\nsudo apt install -y libatlas-base-dev libopenjp2-7-dev libtiff5-dev libhdf5-dev Other Example of using 545043 power supply\ndescription of sn74hc595\nblog about building security robot\nh bridge using 2n2222 transistors for dc motor control. + reverse; another version;\nanother version of h bridge\nBuild a Raspberry Pi Telepresence Rover using Pololu DRV8835\nMy DIY remote controlled robot on raspberry pi with camera.\n","wordCount":"988","inLanguage":"en","datePublished":"2016-12-31T21:30:00Z","dateModified":"2016-12-31T21:30:00Z","author":{"@type":"Person","name":"SergeM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://serge-m.github.io/posts/raspberry-pi-links/"},"publisher":{"@type":"Organization","name":"sergem's personal public notebook","logo":{"@type":"ImageObject","url":"https://serge-m.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://serge-m.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://serge-m.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://serge-m.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://serge-m.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://serge-m.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://serge-m.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://serge-m.github.io/posts/>Posts</a></div><h1 class=post-title>Raspberry Pi Links</h1><div class=post-meta>December 31, 2016&nbsp;·&nbsp;SergeM</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#i2c-interface aria-label="I2C interface">I2C interface</a></li><li><a href=#controlling-motors aria-label="Controlling motors">Controlling motors</a><ul><li><a href=#brushless-motor aria-label="Brushless motor">Brushless motor</a></li><li><a href=#controlling-multiple-servos aria-label="Controlling multiple servos">Controlling multiple servos</a></li><li><a href=#stepper-motors--dc-brushed-motors aria-label="Stepper motors / DC (brushed) motors">Stepper motors / DC (brushed) motors</a></li></ul></li><li><a href=#connecting-via-ssh aria-label="Connecting via ssh:">Connecting via ssh:</a></li><li><a href=#access-rasbberry-pi-without-monitor-and-ethernet aria-label="Access rasbberry Pi without monitor and ethernet">Access rasbberry Pi without monitor and ethernet</a></li><li><a href=#reading-input-button-from-gpio aria-label="Reading input (button) from GPIO">Reading input (button) from GPIO</a></li><li><a href=#raspberrypi-zero-pins-layout aria-label="RaspberryPi Zero pins Layout">RaspberryPi Zero pins Layout</a></li><li><a href=#donkey-car aria-label="Donkey car">Donkey car</a></li><li><a href=#other aria-label=Other>Other</a></li></ul></div></details></div><div class=post-content><h2 id=i2c-interface>I2C interface<a hidden class=anchor aria-hidden=true href=#i2c-interface>#</a></h2><p><a href=https://learn.sparkfun.com/tutorials/i2c>Description of I2C interface</a></p><p><a href=https://learn.sparkfun.com/tutorials/raspberry-pi-spi-and-i2c-tutorial>Raspberry Pi SPI and I2C Tutorial</a></p><p>Continuous deployment (Russian)
<a href=https://m.habrahabr.ru/post/318840/>Непрерывная кросс компиляция на Raspberry PI</a></p><h2 id=controlling-motors>Controlling motors<a hidden class=anchor aria-hidden=true href=#controlling-motors>#</a></h2><h3 id=brushless-motor>Brushless motor<a hidden class=anchor aria-hidden=true href=#brushless-motor>#</a></h3><p><a href=https://solenerotech1.wordpress.com/2013/09/09/tutorialhow-to-control-a-brushless-motor-with-raspberry-pi/>Control brushless motor with ESC</a>. Without additional controllers</p><p><a href=http://raspberrypi.stackexchange.com/a/36317>With PCA9685 PWM Board</a> (stackexchange thread)</p><p><a href="https://www.raspberrypi.org/forums/viewtopic.php?t=46732">One more thread</a></p><h3 id=controlling-multiple-servos>Controlling multiple servos<a hidden class=anchor aria-hidden=true href=#controlling-multiple-servos>#</a></h3><p>To control multiple servos you can use PCA9685 controller. Connection is shown below. It&rsquo;s better to connect VCC of the controller (red wire) to +5V or raspberry or to external power supply.</p><div><img src=/media/images/servo_control_pca9685_2.jpg style=width:50%;height:50%>
<img src=/media/images/servo_control_pca9685_1.jpg style=width:50%;height:50%>
<img src=/media/images/servo_control_pca9685_3.jpg style=width:50%;height:50%>
<img src=/media/images/servo_control_pca9685_4.jpg style=width:50%;height:50%></div>You have to enable I2C interface first with `sudo raspi-config`. Choose "Interfacing Options" -> "I2C" -> "Enable".<p>Now installing the diagnostic tool and running:</p><pre tabindex=0><code>sudo apt-get install -y i2c-tools
sudo i2cdetect -y 1
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
40: 40 -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: 70 -- -- -- -- -- -- --                         
</code></pre><p>Now we can install library:</p><pre tabindex=0><code>pip install Adafruit_PCA9685
</code></pre><p>and run a simple program:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># sample.py</span>
</span></span><span class=line><span class=cl><span class=c1># Simple demo of of the PCA9685 PWM servo/LED controller library.</span>
</span></span><span class=line><span class=cl><span class=c1># This will move channel 0 from min to max position repeatedly.</span>
</span></span><span class=line><span class=cl><span class=c1># Author: Tony DiCola</span>
</span></span><span class=line><span class=cl><span class=c1># License: Public Domain</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>division</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Import the PCA9685 module.</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>Adafruit_PCA9685</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Uncomment to enable debug output.</span>
</span></span><span class=line><span class=cl><span class=c1>#import logging</span>
</span></span><span class=line><span class=cl><span class=c1>#logging.basicConfig(level=logging.DEBUG)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise the PCA9685 using the default address (0x40).</span>
</span></span><span class=line><span class=cl><span class=n>pwm</span> <span class=o>=</span> <span class=n>Adafruit_PCA9685</span><span class=o>.</span><span class=n>PCA9685</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Alternatively specify a different address and/or bus:</span>
</span></span><span class=line><span class=cl><span class=c1>#pwm = Adafruit_PCA9685.PCA9685(address=0x41, busnum=2)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Configure min and max servo pulse lengths</span>
</span></span><span class=line><span class=cl><span class=n>servo_min</span> <span class=o>=</span> <span class=mi>150</span>  <span class=c1># Min pulse length out of 4096</span>
</span></span><span class=line><span class=cl><span class=n>servo_max</span> <span class=o>=</span> <span class=mi>600</span>  <span class=c1># Max pulse length out of 4096</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Helper function to make setting a servo pulse width simpler.</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>set_servo_pulse</span><span class=p>(</span><span class=n>channel</span><span class=p>,</span> <span class=n>pulse</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>pulse_length</span> <span class=o>=</span> <span class=mi>1000000</span>    <span class=c1># 1,000,000 us per second</span>
</span></span><span class=line><span class=cl>    <span class=n>pulse_length</span> <span class=o>//=</span> <span class=mi>60</span>       <span class=c1># 60 Hz</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>{0}</span><span class=s1>us per period&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>pulse_length</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>pulse_length</span> <span class=o>//=</span> <span class=mi>4096</span>     <span class=c1># 12 bits of resolution</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>{0}</span><span class=s1>us per bit&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>pulse_length</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>pulse</span> <span class=o>*=</span> <span class=mi>1000</span>
</span></span><span class=line><span class=cl>    <span class=n>pulse</span> <span class=o>//=</span> <span class=n>pulse_length</span>
</span></span><span class=line><span class=cl>    <span class=n>pwm</span><span class=o>.</span><span class=n>set_pwm</span><span class=p>(</span><span class=n>channel</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>pulse</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set frequency to 60hz, good for servos.</span>
</span></span><span class=line><span class=cl><span class=n>pwm</span><span class=o>.</span><span class=n>set_pwm_freq</span><span class=p>(</span><span class=mi>60</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Moving servo on channel 0, press Ctrl-C to quit...&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Move servo on channel O between extremes.</span>
</span></span><span class=line><span class=cl>    <span class=n>pwm</span><span class=o>.</span><span class=n>set_pwm</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>servo_min</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pwm</span><span class=o>.</span><span class=n>set_pwm</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>servo_max</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>running:</p><pre tabindex=0><code>python sample.py
</code></pre><p>To control more than 16 servose one can chain multiple drivers. See <a href="https://learn.adafruit.com/16-channel-pwm-servo-driver?view=all#chaining-drivers">Chaining Drivers section</a> for details. Some soldering is required to assign a unique address for each driver.</p><p>See alow:</p><ul><li><a href=https://cdn-shop.adafruit.com/datasheets/PCA9685.pdf>datasheet</a></li><li><a href=https://cdn-learn.adafruit.com/downloads/pdf/adafruit-16-channel-servo-driver-with-raspberry-pi.pdf>Adafruit 16 Channel Servo Driver with Raspberry Pi</a> Created by Kevin Townsend. pdf. (pca-9685)</li><li><a href=https://github.com/adafruit/Adafruit_Python_PCA9685/issues/1>troubleshooting</a></li><li><a href=http://razzpisampler.oreilly.com/ch05.html>Controlling one servo</a>. No additional controllers needed</li></ul><h3 id=stepper-motors--dc-brushed-motors>Stepper motors / DC (brushed) motors<a hidden class=anchor aria-hidden=true href=#stepper-motors--dc-brushed-motors>#</a></h3><p><a href="https://learn.adafruit.com/adafruits-raspberry-pi-lesson-10-stepper-motors?view=all">with l293d</a></p><p><a href="https://learn.adafruit.com/adafruit-dc-and-stepper-motor-hat-for-raspberry-pi?view=all">[Raspberry] Stepper and dc motor using specializer HAT</a><br>Based on PC9865 PWM and TB6612 chipset. 1.2A per channel current capability (20ms long bursts of 3A peak)</p><p><a href="https://learn.adafruit.com/adafruit-motor-shield?view=all">[Arduino] With adafruit motor schield v1</a><br>Based on 74HC595N Serial to parallel output latch and L293D driver. 0.6A per bridge (1.2A peak) with thermal shutdown protection, 4.5V to 25V.<br><a href=https://github.com/adafruit/Adafruit-Motor-Shield-library>Library for motor control</a><br>See also <a href=/sn74hc595-shift-register.html>about SN74HC595 shift register</a></p><p><a href="https://learn.adafruit.com/adafruit-motor-shield-v2-for-arduino?view=all">[Arduino] With adafruit motor shield v2</a><br>Based on PCA9685 and TB6612 MOSFET drivers with 1.2A per channel current capability ( up to 3A peak for approx 20ms at a time)</p><p><a href="https://learn.adafruit.com/adafruit-raspberry-pi-lesson-9-controlling-a-dc-motor?view=all">[Raspberry] Drive a DC motor forward and in reverse with variable speed</a> (with l293d, adafruit lesson 9)</p><p><a href="https://learn.adafruit.com/micropython-hardware-pca9685-dc-motor-and-stepper-driver?view=all">[Micropython board] Control dc motor with pca9685</a></p><p><a href="https://www.youtube.com/watch?v=W7cV9_W12sM">[Raspberry] Video with just simple transistor scheme and with L293D controller</a></p><p><a href=https://medium.com/@seyoum14/using-a-dc-motor-to-run-a-propeller-with-raspberry-pi-e5a570864e6f#.q7qutomrv>[Raspberry] using L293D and 4N35 opto isolator</a></p><p><a href="https://learn.adafruit.com/adafruit-drv8871-brushed-dc-motor-driver-breakout?view=all">[Arduino] 1 bidirectional DC motor using small DRV8871 motor driver</a><br>Up to 45V and 3.6A of motor control</p><p>It is possible to have frequency controlled dc driver connected through Adafruit 16 Channel Servo Driver.
See <a href="https://www.raspberrypi.org/forums/viewtopic.php?t=12067&p=161140">post</a>. <a href=http://www.robotshop.com/en/sabertooth-dual-regenerative-motor-driver.html>controller, ~100 Euro</a>, powerfull</p><p><a href=https://ulrichbuschbaum.wordpress.com/2014/10/28/using-the-drv8833-motor-driver/>[Arduino] using drv8833 driver</a>,</p><p><a href=https://ulrichbuschbaum.wordpress.com/2014/09/17/the-l293d-motor-driver-and-makeblock/>[Arduino] using l293d</a></p><p>Using transistors: (1)[http://electronics.stackexchange.com/questions/7235/motor-driver-using-only-a-2n2222-transistor], very weak</p><h2 id=connecting-via-ssh>Connecting via ssh:<a hidden class=anchor aria-hidden=true href=#connecting-via-ssh>#</a></h2><pre tabindex=0><code>ssh -Y user@raspberrypi-url
</code></pre><h2 id=access-rasbberry-pi-without-monitor-and-ethernet>Access rasbberry Pi without monitor and ethernet<a hidden class=anchor aria-hidden=true href=#access-rasbberry-pi-without-monitor-and-ethernet>#</a></h2><p>Assuming we have an operating system (raspbian) installed.</p><ol><li><p>Plug the SD-card into a computer.</p></li><li><p>Automatic connection to wifi. Edit <code>/etc/wpa_supplicant/wpa_supplicant.conf</code> and add the following lines:</p></li></ol><pre tabindex=0><code>network={
    ssid=&#34;my-network-name&#34;
    psk=&#34;my-network-pass&#34;
}
</code></pre><p>In the end the file should look like this:</p><pre tabindex=0><code>country=GB
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
    ssid=&#34;my-network-name&#34;
    psk=&#34;my-network-pass&#34;
}
</code></pre><p><code>country</code> field is essential. Wifi wont work without it. In the log you will see <code>raspberrypi systemd[1]: Started Disable WiFi if country not set.</code></p><p>If you need to support multiple wifi connections use <code>id_str</code> field:</p><pre tabindex=0><code>network={
    ssid=&#34;my-network-name&#34;
    psk=&#34;my-network-pass&#34;
    id_str=&#34;net1&#34;
}

network={
    ssid=&#34;another-network&#34;
    psk=&#34;another pass&#34;
    id_str=&#34;net2&#34;
}
</code></pre><ol start=3><li><p>Enable SSH access. Create an empty file <code>ssh</code> in <code>/boot/</code>.</p></li><li><p>Plug the card back into your raspberry, turn on.</p></li></ol><p>Now you can connect to raspberry via ssh:</p><pre><code>ssh pi@raspberrypi
</code></pre><p>or</p><pre><code>ssh pi@&lt;IP-OF-YOUR-RASPBERRY&gt;
</code></pre><h2 id=reading-input-button-from-gpio>Reading input (button) from GPIO<a hidden class=anchor aria-hidden=true href=#reading-input-button-from-gpio>#</a></h2><p><a href=http://raspi.tv/2013/rpi-gpio-basics-4-setting-up-rpi-gpio-numbering-systems-and-inputs>without interrupts, raspi.tv</a></p><h2 id=raspberrypi-zero-pins-layout>RaspberryPi Zero pins Layout<a hidden class=anchor aria-hidden=true href=#raspberrypi-zero-pins-layout>#</a></h2><p><img loading=lazy src=/media/images/gpio.png alt="GPIO raspberry pins scheme"></p><p><img loading=lazy src=/media/images/gpio-raspberry-zero.png alt="pins layout photo">
<a href=http://pi4j.com/pins/model-zero-rev1.html>image source</a></p><p>Interactive website for pinout of Raspberry Pi for different interfaces <a href=https://pinout.xyz/#>Pinout</a></p><h2 id=donkey-car>Donkey car<a hidden class=anchor aria-hidden=true href=#donkey-car>#</a></h2><p>Requirements for running donkey car:</p><pre tabindex=0><code>sudo apt install -y libatlas-base-dev libopenjp2-7-dev libtiff5-dev libhdf5-dev
</code></pre><h2 id=other>Other<a hidden class=anchor aria-hidden=true href=#other>#</a></h2><ul><li><p><a href=https://www.sunfounder.com/learn/Super_Kit_V2_for_RaspberryPi/lesson-7-how-to-drive-a-dc-motor-super-kit-for-raspberrypi.html>Example of using 545043 power supply</a></p></li><li><p><a href=http://www.ti.com/lit/ds/symlink/sn74hc595.pdf>description of sn74hc595</a></p></li><li><p><a href=https://seregus.wordpress.com/>blog about building security robot</a></p></li><li><p><a href=http://www.instructables.com/id/H-Bridge-on-a-Breadboard/?ALLSTEPS>h bridge using 2n2222 transistors for dc motor control. + reverse</a>; <a href=http://electronics.stackexchange.com/questions/7235/motor-driver-using-only-a-2n2222-transistor>another version</a>;</p></li><li><p><a href=http://www.electronicsteacher.com/robotics/robotics-tutorial/advanced-robotics/controlling-dc-motors.php>another version of h bridge</a></p></li><li><p><a href=http://www.bot-thoughts.com/2013/04/raspberry-pi-telepresence-rover.html>Build a Raspberry Pi Telepresence Rover</a> using <a href=/motor-drivers-controllers.html>Pololu DRV8835</a></p></li><li><p>My DIY <a href=https://github.com/serge-m/robot-remote-control>remote controlled robot on raspberry pi</a> with camera.</p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://serge-m.github.io/tags/links/>links</a></li><li><a href=https://serge-m.github.io/tags/raspberry/>raspberry</a></li><li><a href=https://serge-m.github.io/tags/pi/>pi</a></li><li><a href=https://serge-m.github.io/tags/servo/>servo</a></li><li><a href=https://serge-m.github.io/tags/stepper/>stepper</a></li><li><a href=https://serge-m.github.io/tags/motor-shield/>motor shield</a></li><li><a href=https://serge-m.github.io/tags/pwm/>pwm</a></li><li><a href=https://serge-m.github.io/tags/raspberry-pi/>raspberry pi</a></li><li><a href=https://serge-m.github.io/tags/ssh/>ssh</a></li><li><a href=https://serge-m.github.io/tags/pca9685/>pca9685</a></li></ul><nav class=paginav><a class=prev href=https://serge-m.github.io/posts/check-server-fingerpring-for-scaleway/><span class=title>« Prev Page</span><br><span>Check server fingerprint for scaleway</span></a>
<a class=next href=https://serge-m.github.io/posts/run-docker-as-pytest-fixture/><span class=title>Next Page »</span><br><span>Run docker as pytest fixture</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Raspberry Pi Links on twitter" href="https://twitter.com/intent/tweet/?text=Raspberry%20Pi%20Links&url=https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f&hashtags=links%2craspberry%2cpi%2cservo%2cstepper%2cmotorshield%2cpwm%2craspberrypi%2cssh%2cpca9685"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Raspberry Pi Links on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f&title=Raspberry%20Pi%20Links&summary=Raspberry%20Pi%20Links&source=https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Raspberry Pi Links on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f&title=Raspberry%20Pi%20Links"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Raspberry Pi Links on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Raspberry Pi Links on whatsapp" href="https://api.whatsapp.com/send?text=Raspberry%20Pi%20Links%20-%20https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Raspberry Pi Links on telegram" href="https://telegram.me/share/url?text=Raspberry%20Pi%20Links&url=https%3a%2f%2fserge-m.github.io%2fposts%2fraspberry-pi-links%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://serge-m.github.io/>sergem's personal public notebook</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById("menu").scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById("menu").scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>