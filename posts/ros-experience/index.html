<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ROS experience | sergem's personal public notebook</title><meta name=keywords content="ros,linux,robotics,raspberry,pi,ubuntu,melodic,kinetic,camera,tensorflow"><meta name=description content="ROS on raspberry pi There is a compiled image for RPi by ubiquity that has ROS kinetic: https://downloads.ubiquityrobotics.com/pi.html.
It seems for me too old. It&rsquo;s 2020, there are ubuntu 18, ros melodic and ros2, next year the support of python2.7 will be discontinued. Meh&mldr;
It is possible to have ROS melodic on Raspberry Pi 3 B+. See in the next sections.
Installing tensorflow for ROS on raspberry pi Alternatively one can try to install it from wheels: https://www."><meta name=author content="SergeM"><link rel=canonical href=https://serge-m.github.io/posts/ros-experience/><link href=/assets/css/stylesheet.min.6d98a2276d0cb41ef459267b3ff3ef02df70a8f16b70bbc52b20568702bc90cf.css integrity="sha256-bZiiJ20MtB70WSZ7P/PvAt9wqPFrcLvFKyBWhwK8kM8=" rel="preload stylesheet" as=style><link rel=icon href=https://serge-m.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://serge-m.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://serge-m.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://serge-m.github.io/apple-touch-icon.png><link rel=mask-icon href=https://serge-m.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.110.0"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-40853494-2","auto"),ga("send","pageview"))</script><meta property="og:title" content="ROS experience"><meta property="og:description" content="ROS on raspberry pi There is a compiled image for RPi by ubiquity that has ROS kinetic: https://downloads.ubiquityrobotics.com/pi.html.
It seems for me too old. It&rsquo;s 2020, there are ubuntu 18, ros melodic and ros2, next year the support of python2.7 will be discontinued. Meh&mldr;
It is possible to have ROS melodic on Raspberry Pi 3 B+. See in the next sections.
Installing tensorflow for ROS on raspberry pi Alternatively one can try to install it from wheels: https://www."><meta property="og:type" content="article"><meta property="og:url" content="https://serge-m.github.io/posts/ros-experience/"><meta property="og:image" content="https://serge-m.github.io/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-08-24T20:32:00+00:00"><meta property="article:modified_time" content="2019-08-24T20:32:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://serge-m.github.io/papermod-cover.png"><meta name=twitter:title content="ROS experience"><meta name=twitter:description content="ROS on raspberry pi There is a compiled image for RPi by ubiquity that has ROS kinetic: https://downloads.ubiquityrobotics.com/pi.html.
It seems for me too old. It&rsquo;s 2020, there are ubuntu 18, ros melodic and ros2, next year the support of python2.7 will be discontinued. Meh&mldr;
It is possible to have ROS melodic on Raspberry Pi 3 B+. See in the next sections.
Installing tensorflow for ROS on raspberry pi Alternatively one can try to install it from wheels: https://www."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://serge-m.github.io/posts/"},{"@type":"ListItem","position":2,"name":"ROS experience","item":"https://serge-m.github.io/posts/ros-experience/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ROS experience","name":"ROS experience","description":"ROS on raspberry pi There is a compiled image for RPi by ubiquity that has ROS kinetic: https://downloads.ubiquityrobotics.com/pi.html.\nIt seems for me too old. It\u0026rsquo;s 2020, there are ubuntu 18, ros melodic and ros2, next year the support of python2.7 will be discontinued. Meh\u0026hellip;\nIt is possible to have ROS melodic on Raspberry Pi 3 B+. See in the next sections.\nInstalling tensorflow for ROS on raspberry pi Alternatively one can try to install it from wheels: https://www.","keywords":["ros","linux","robotics","raspberry","pi","ubuntu","melodic","kinetic","camera","tensorflow"],"articleBody":"ROS on raspberry pi There is a compiled image for RPi by ubiquity that has ROS kinetic: https://downloads.ubiquityrobotics.com/pi.html.\nIt seems for me too old. It’s 2020, there are ubuntu 18, ros melodic and ros2, next year the support of python2.7 will be discontinued. Meh…\nIt is possible to have ROS melodic on Raspberry Pi 3 B+. See in the next sections.\nInstalling tensorflow for ROS on raspberry pi Alternatively one can try to install it from wheels: https://www.tensorflow.org/install/pip?lang=python3#package-location\nThe dependencies are better to install using pip and piwheels.org:\nsudo pip3 install --extra-index-url=https://www.piwheels.org/simple -U tensorflow keras Issues h5py I encountered an error about h5py:\nImportError: libhdf5_serial.so.100: cannot open shared object file: No such file or directory installing\nsudo apt-get install libhdf5-dev sudo apt-get install libhdf5-serial-dev didnt help.\nSome version mismatch\nI could resolve it by compiling h5py with my version:\nHDF5_VERSION=1.8.16 sudo pip3 install --no-binary=h5py h5py load_img keras_preprocessing.image.utils.load_img results in the error:\nFile \"/home/ubuntu/sergem_robocar/py3/lib/python3.5/site-packages/keras_preprocessing/image/utils.py\", line 108, in load_img raise ImportError('Could not import PIL.Image. ' ImportError: Could not import PIL.Image. The use of `load_img` requires PIL. pillow is installed.\nThe error may be caused by missing jpeg libraries. Try to load PIL in a separate python and check if it works. I got the following error.\n1 2 3 4 5 6 \u003e\u003e\u003e from PIL import Image as pil_image Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e File \"/home/ubuntu/sergem_robocar/py3/lib/python3.5/site-packages/PIL/Image.py\", line 95, in \u003cmodule\u003e from . import _imaging as core ImportError: libjpeg.so.62: cannot open shared object file: No such file or directory Easily solvable by\nsudo apt install libjpeg62 Name clash in dynamic_reconfigure Probably it is written somewhere but I haven’t read the docs…\nI am developign a node for robot steering translation. I got an error:\n$ rosrun steering_translator steering_translator.py Traceback (most recent call last): File \"/home/user/omicron_robocar/catkin_ws/src/steering_translator/src/steering_translator.py\", line 5, in import steering_translator.cfg File \"/home/user/omicron_robocar/catkin_ws/src/steering_translator/src/steering_translator.py\", line 5, in import steering_translator.cfg ImportError: No module named cfg I did everything according to the tutorials How to Write Your First .cfg File and Setting up Dynamic Reconfigure for a Node (python), just changed couple of names. The problem was in the naming of the package (steering_translator) and the executable file (steering_translator.py). They are getting mixed up on the execution. The solution was to rename python file to steering_translator_node.py.\nROS melodic on Raspberry Pi 3 B+ Although there is a pre-built ros-kinetic image from Ubuquity, I would like to run ROS melodic on my Raspberry Pi 3 b+ with Raspberry Camera support.\nYou can find the image I built here.\nmd5 checksum:\na65a6968eb7cdf39655eaee9ee82b38c 20200207_ubuntu_armhf_ros_melodic.img.gz To use it you need to download it and write on SD card as with any other image for RPi.\nCredentials:\nUser: ubuntu\npassword: robotrobot\nwifi hotspot SSID: ub_rpi_net\nwifi password: robotwifi\nChange the passwords as soon as you logged in.\nIf you want to build the image yourself, you can follow the instructions bellow.\nPrepare ubuntu 18 LTS for Raspberry Pi go to Ubuntu PaspberryPi, download 18.04 LTS for armhf architecture: ubuntu-18.04.3-preinstalled-server-armhf+raspi3.img.xz\nI tried to run arm64 version but encountered issues with building ROS node for raspberry pi. With armhf it works.\nwrite the image to SD card\nto enable camera open /boot/config.txt on SD card and make sure the following lines are there:\nstart_x=1 gpu_mem=128 # at least, or more if you wish insert the flash card into the Raspberry\nConnecting Raspberry Switch on the Raspberry\nIt turned out that Raspberry pi cannot connect to my laptop directly with the default ethernet settings (something is wrong with my DHCP settings).\nOne option is to use router:\nConnect RPi to a router with a cable connect your laptop to the same router Another option is to change the settings of the connection on the laptop so that the connection in shared. This way IP gets automatically assigned to both laptop and Raspberry. find the ip address of the connected Raspberry with one of the commands:\nnmap -sn YOUR_ROUTER_IP/24 or nmap -sn YOUR_LAPTOP_IP/24. the command may differ depending on the DHCP settings of your network. In my case it is nmap -sn 192.168.125.1/24 For direct connection: arp -a ssh -X ubuntu@RASPBERRY_IP, use password ubuntu.\n-X option allows to run gui apps via ssh. Update the system sudo add-apt-repository ppa:ubuntu-raspi2/ppa # for standard RPi tools sudo apt update \u0026\u0026 sudo apt upgrade # this will take some time If the update doesn’t work the reason could be time synchronization between ubuntu servers and raspberry py. Try to install ntp: sudo apt install ntp\nRemove unnecessary tools Removing cloud-init:\nsudo apt-get purge cloud-init # archive file for a backup sudo tar --remove-files -cvzf ~/backup-cloud-init.tar.gz /etc/cloud/ /var/lib/cloud/ sudo reboot # restart Install ROS Melodic Follow the standard instructions from Ubuntu install of ROS Melodic. I was installing sudo apt install -y ros-melodic-ros-base to save some time and disk space.\nSetting up a node for Raspberry Camera I would like to use the standard RPi camera with ROS. There is a node raspicam_node by Ubiquity, but there is no compiled version for ROS melodic that I could install using apt. Let’s compile it. I have checked out kinetic branch, revision 3209cd801b1006c8959540f4efc3774ee19aaa78.\nmkdir -p ~/catkin_ws/src cd ~/catkin_ws/src git clone https://github.com/UbiquityRobotics/raspicam_node cd ~/catkin_ws/ source /opt/ros/melodic/setup.bash Open file /etc/ros/rosdep/sources.list.d/30-ubiquity.list and add there the line:\nyaml https://raw.githubusercontent.com/UbiquityRobotics/rosdep/master/raspberry-pi.yaml Now update dependencies:\nrosdep update cd ~/catkin_ws rosdep install --from-paths src --ignore-src --rosdistro=melodic -y Build:\ncatkin_make install Install rqt_image_view to see the results:\nsudo apt install -y ros-melodic-rqt-image-view Install tools to work with raspberry camera:\nsudo apt install -y libraspberrypi-bin libraspberrypi-bin-nonfree For example, now you can make a photo using raspi camera:\nraspistill -o img.jpg Test run of the raspicam_node:\nsource ~/catkin_ws/devel/setup.bash roslaunch raspicam_node camerav2_1280x960.launch You have to see the following line in the end:\n[ INFO] [1581100897.421303654]: Video capture started Press Ctrl+C to stop the node.\nIf you get an error like this:\nsetting /run_id to fb66ef3e-49d5-11ea-9db0-b827eb318c11 process[rosout-1]: started with pid [23520] started core service [/rosout] process[raspicam_node-2]: started with pid [23523] mmal: mmal_vc_component_create: failed to create component 'vc.ril.camera' (1:ENOMEM) mmal: mmal_component_create_core: could not create component 'vc.ril.camera' (1) mmal: Failed to create camera component [ERROR] [1581099401.593581701]: Failed to create camera component [ERROR] [1581099401.596934388]: init_cam: Failed to create camera component that mean you haven’t enable camera. Look at the instructions above about config.txt file.\nNow you can try to run camera node in the background and run rqt_image_view to check if the camera works:\nroslaunch raspicam_node camerav2_1280x960.launch \u0026 rosrun rqt_image_view rqt_image_view Result should look like this:\nEnabling wifi connection Let’s say you want Raspberry pi to automatically connect to your home wifi network.\nInstall NetworkManager:\nsudo apt install -y network-manager enable network manager\nsudo systemctl enable NetworkManager sudo systemctl start NetworkManager add a connection to your Wifi router\nnmcli device wifi rescan nmcli device wifi list nmcli device wifi connect SSID-Name password PASSWORD Enable hot spot Wifi on RaspberryPi (ubuntu 18.04) Enabling hotspot on raspberry allows connection via Wifi without having a router or ethernet cable.\ninstall and enable network manager as described above\nCreate hotspot connection:\nsudo nmcli dev wifi hotspot ifname wlan0 ssid ub_rpi_net password \"robotwifi\" Enable autoconnection and enable the connection:\nsudo nmcli connection modify Hotspot connection.autoconnect True nmcli con up Hotspot You can change the default IP addresses for the Hotspot (optional):\nsudo nmcli connection modify Hotspot ipv4.addresses 192.168.111.1/24 sudo nmcli connection modify Hotspot ipv4.gateway 192.168.111.1 restart network manager to enable the changes:\nsudo systemctl restart NetworkManager Your /etc/NetworkManager/system-connections/Hotspot file will look like this:\nubuntu@ubuntu:~/catkin_ws$ sudo cat /etc/NetworkManager/system-connections/Hotspot [connection] id=Hotspot uuid=a1103c90-07ab-4a2b-ba54-e267a716df2d type=wifi permissions= timestamp=1581101574 [wifi] mac-address=B8:27:EB:64:D9:44 mac-address-blacklist= mode=ap seen-bssids=B8:27:EB:64:D9:44; ssid=ub_rpi_net [wifi-security] group=ccmp; key-mgmt=wpa-psk pairwise=ccmp; proto=rsn; psk=robotwifi [ipv4] address1=192.168.111.1/24,192.168.111.1 dns-search= method=shared [ipv6] addr-gen-mode=stable-privacy dns-search= method=ignore After that you should be able to connect your laptop to the hotspot and ssh to another address: ssh -X ubuntu@192.168.111.1\nCreating an image of the SD card for recovery One can create the image using the standard Ubuntu Disks app on your laptop. Alternatively we can use dd with saves some clicks, but more dangerous is a way.\nAssuming /dev/mmcblk0 is your SD card. Creating an image for the whole SD card:\ndd bs=1M if=/dev/mmcblk0 | gzip -c --fast| dd of=/path/to/image.gz That is the safest option.\nIn my case the SD card is 32 Gb and the disk space occupied is about 6Gb. To save some disk space and decrease the image size I resize the partition “writable” to something about 5.5 Gb, and then create a shorter version that should also work:\ndd bs=1M count= if=/dev/mmcblk0 | gzip -c --fast| dd of=/path/to/image.gz size_in_MBs is 6000 for me to cover both partitions.\nHow to restore the image.\ndd if=/path/to/image.gz | gunzip -c | dd bs=1M of=/dev/mmcblk0 Be careful. There is no safety net for this command. You can corrupt your data. Better use “Disks” app to be on the safe side.\nThat’s it. We have created an image!\nExtra notes: There is some cloud-init function in that Ubuntu image but I didn’t manage to make it work. It seems some people are more successful with that: https://gitlab.com/Bjorn_Samuelsson/raspberry-pi-cloud-init-wifi.git\nSome guides: https://roboticsbackend.com/install-ros-on-raspberry-pi-3/\nhttps://www.youtube.com/watch?v=VFuHG-Ho4Fk\nhttps://roboticsweekends.blogspot.com/2017/12/how-to-install-ros-on-raspberry-pi-2-or.html\nhttps://wiki.ros.org/ROSberryPi/Installing%20ROS%20Kinetic%20on%20the%20Raspberry%20Pi\nRosserial Getting a lot of errors\n[INFO] [1583529448.984198]: wrong checksum for topic id and msg [ERROR] [1583529515.481192]: Lost sync with device, restarting... [INFO] [1583529515.484453]: Requesting topics... may be caused by some blocking operations in arduino. I was using a standard library for Adafruit PCA9685. The library uses some synchronous calls from Wire.h. It seems that was causing issues.\nCmake + Clion + ROS In order to have ROS environment and dependencies loaded to CLion one has to launch CLion in the sourced environment.\nsource ./devel/setup.bash sh PATH_TO_CLION/bin/clion.sh Then open a ROS project: File -\u003e Open -\u003e select YOUR_ROS_WORKSPACE/src/CMakeLists.txt -\u003e Open as Project.\n","wordCount":"1594","inLanguage":"en","datePublished":"2019-08-24T20:32:00Z","dateModified":"2019-08-24T20:32:00Z","author":{"@type":"Person","name":"SergeM"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://serge-m.github.io/posts/ros-experience/"},"publisher":{"@type":"Organization","name":"sergem's personal public notebook","logo":{"@type":"ImageObject","url":"https://serge-m.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://serge-m.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://serge-m.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://serge-m.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://serge-m.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://serge-m.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://serge-m.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://serge-m.github.io/posts/>Posts</a></div><h1 class=post-title>ROS experience</h1><div class=post-meta>August 24, 2019&nbsp;·&nbsp;SergeM</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><ul><li><a href=#ros-on-raspberry-pi aria-label="ROS on raspberry pi">ROS on raspberry pi</a></li><li><a href=#installing-tensorflow-for-ros-on-raspberry-pi aria-label="Installing tensorflow for ROS on raspberry pi">Installing tensorflow for ROS on raspberry pi</a><ul><li><a href=#issues aria-label=Issues>Issues</a><ul><li><a href=#h5py aria-label=h5py>h5py</a></li><li><a href=#load_img aria-label=load_img>load_img</a></li></ul></li></ul></li><li><a href=#name-clash-in-dynamic_reconfigure aria-label="Name clash in dynamic_reconfigure">Name clash in dynamic_reconfigure</a></li><li><a href=#ros-melodic-on-raspberry-pi-3-b aria-label="ROS melodic on Raspberry Pi 3 B+">ROS melodic on Raspberry Pi 3 B+</a><ul><li><a href=#prepare-ubuntu-18-lts-for-raspberry-pi aria-label="Prepare ubuntu 18 LTS for Raspberry Pi">Prepare ubuntu 18 LTS for Raspberry Pi</a></li><li><a href=#connecting-raspberry aria-label="Connecting Raspberry">Connecting Raspberry</a></li><li><a href=#update-the-system aria-label="Update the system">Update the system</a></li><li><a href=#remove-unnecessary-tools aria-label="Remove unnecessary tools">Remove unnecessary tools</a></li><li><a href=#install-ros-melodic aria-label="Install ROS Melodic">Install ROS Melodic</a></li><li><a href=#setting-up-a-node-for-raspberry-camera aria-label="Setting up a node for Raspberry Camera">Setting up a node for Raspberry Camera</a></li><li><a href=#enabling-wifi-connection aria-label="Enabling wifi connection">Enabling wifi connection</a><ul><li><a href=#enable-hot-spot-wifi-on-raspberrypi-ubuntu-1804 aria-label="Enable hot spot Wifi on RaspberryPi (ubuntu 18.04)">Enable hot spot Wifi on RaspberryPi (ubuntu 18.04)</a></li></ul></li><li><a href=#creating-an-image-of-the-sd-card-for-recovery aria-label="Creating an image of the SD card for recovery">Creating an image of the SD card for recovery</a></li><li><a href=#extra-notes aria-label="Extra notes:">Extra notes:</a><ul><li><a href=#some-guides aria-label="Some guides:">Some guides:</a></li></ul></li></ul></li></ul><li><a href=#rosserial aria-label=Rosserial>Rosserial</a></li><li><a href=#cmake--clion--ros aria-label="Cmake + Clion + ROS">Cmake + Clion + ROS</a></li></ul></div></details></div><div class=post-content><h2 id=ros-on-raspberry-pi>ROS on raspberry pi<a hidden class=anchor aria-hidden=true href=#ros-on-raspberry-pi>#</a></h2><p>There is a compiled image for RPi by ubiquity that has ROS kinetic:
<a href=https://downloads.ubiquityrobotics.com/pi.html>https://downloads.ubiquityrobotics.com/pi.html</a>.</p><p>It seems for me too old. It&rsquo;s 2020, there are ubuntu 18, ros melodic and ros2, next year the support of python2.7 will be discontinued. Meh&mldr;</p><p>It is possible to have <strong>ROS melodic on Raspberry Pi 3 B+</strong>. See in the next sections.</p><h2 id=installing-tensorflow-for-ros-on-raspberry-pi>Installing tensorflow for ROS on raspberry pi<a hidden class=anchor aria-hidden=true href=#installing-tensorflow-for-ros-on-raspberry-pi>#</a></h2><p>Alternatively one can try to install it from wheels:
<a href="https://www.tensorflow.org/install/pip?lang=python3#package-location">https://www.tensorflow.org/install/pip?lang=python3#package-location</a></p><p>The dependencies are better to install using pip and piwheels.org:</p><pre tabindex=0><code>sudo pip3 install --extra-index-url=https://www.piwheels.org/simple -U tensorflow keras
</code></pre><h3 id=issues>Issues<a hidden class=anchor aria-hidden=true href=#issues>#</a></h3><h4 id=h5py>h5py<a hidden class=anchor aria-hidden=true href=#h5py>#</a></h4><p>I encountered an error about h5py:</p><pre tabindex=0><code>ImportError: libhdf5_serial.so.100: cannot open shared object file: No such file or directory
</code></pre><p>installing</p><pre tabindex=0><code>sudo apt-get install libhdf5-dev
sudo apt-get install libhdf5-serial-dev
</code></pre><p>didnt help.</p><p>Some version mismatch</p><p>I could resolve it by compiling h5py with my version:</p><pre tabindex=0><code>HDF5_VERSION=1.8.16 sudo pip3 install --no-binary=h5py h5py
</code></pre><h4 id=load_img>load_img<a hidden class=anchor aria-hidden=true href=#load_img>#</a></h4><p><code>keras_preprocessing.image.utils.load_img</code> results in the error:</p><pre tabindex=0><code>  File &#34;/home/ubuntu/sergem_robocar/py3/lib/python3.5/site-packages/keras_preprocessing/image/utils.py&#34;, line 108, in load_img
    raise ImportError(&#39;Could not import PIL.Image. &#39;
ImportError: Could not import PIL.Image. The use of `load_img` requires PIL.
</code></pre><p>pillow is installed.</p><p>The error may be caused by missing jpeg libraries. Try to load PIL in a separate python and check if it works.
I got the following error.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>PIL</span> <span class=kn>import</span> <span class=n>Image</span> <span class=k>as</span> <span class=n>pil_image</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;/home/ubuntu/sergem_robocar/py3/lib/python3.5/site-packages/PIL/Image.py&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>95</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kn>from</span> <span class=nn>.</span> <span class=kn>import</span> <span class=n>_imaging</span> <span class=k>as</span> <span class=n>core</span>
</span></span><span class=line><span class=cl><span class=ne>ImportError</span><span class=p>:</span> <span class=n>libjpeg</span><span class=o>.</span><span class=n>so</span><span class=mf>.62</span><span class=p>:</span> <span class=n>cannot</span> <span class=nb>open</span> <span class=n>shared</span> <span class=nb>object</span> <span class=n>file</span><span class=p>:</span> <span class=n>No</span> <span class=n>such</span> <span class=n>file</span> <span class=ow>or</span> <span class=n>directory</span>
</span></span></code></pre></td></tr></table></div></div><p>Easily solvable by</p><pre tabindex=0><code>sudo apt install libjpeg62
</code></pre><h2 id=name-clash-in-dynamic_reconfigure>Name clash in dynamic_reconfigure<a hidden class=anchor aria-hidden=true href=#name-clash-in-dynamic_reconfigure>#</a></h2><p>Probably it is written somewhere but I haven&rsquo;t read the docs&mldr;</p><p>I am developign a node for robot steering translation. I got an error:</p><pre tabindex=0><code>$ rosrun steering_translator steering_translator.py 
Traceback (most recent call last):
  File &#34;/home/user/omicron_robocar/catkin_ws/src/steering_translator/src/steering_translator.py&#34;, line 5, in &lt;module&gt;
    import steering_translator.cfg
  File &#34;/home/user/omicron_robocar/catkin_ws/src/steering_translator/src/steering_translator.py&#34;, line 5, in &lt;module&gt;
    import steering_translator.cfg
ImportError: No module named cfg
</code></pre><p>I did everything according to the tutorials <a href=http://wiki.ros.org/dynamic_reconfigure/Tutorials/HowToWriteYourFirstCfgFile>How to Write Your First .cfg File</a>
and <a href=http://wiki.ros.org/dynamic_reconfigure/Tutorials/SettingUpDynamicReconfigureForANode%28python%29>Setting up Dynamic Reconfigure for a Node (python)</a>, just changed couple of names.
The problem was in the naming of the package (steering_translator) and the executable file (steering_translator.py). They are getting mixed up on the execution. The solution was to rename python file to steering_translator_node.py.</p><h2 id=ros-melodic-on-raspberry-pi-3-b>ROS melodic on Raspberry Pi 3 B+<a hidden class=anchor aria-hidden=true href=#ros-melodic-on-raspberry-pi-3-b>#</a></h2><p>Although there is a pre-built ros-kinetic image from Ubuquity,
I would like to run ROS melodic on my Raspberry Pi 3 b+ with Raspberry Camera support.</p><p>You can find the image I built <a href=https://yadi.sk/d/A76jFgiVx_vycA>here</a>.</p><p>md5 checksum:</p><pre><code>a65a6968eb7cdf39655eaee9ee82b38c  20200207_ubuntu_armhf_ros_melodic.img.gz
</code></pre><p>To use it you need to download it and write on SD card as with any other image for RPi.</p><p>Credentials:</p><ul><li><p>User: ubuntu</p></li><li><p>password: robotrobot</p></li><li><p>wifi hotspot SSID: ub_rpi_net</p></li><li><p>wifi password: robotwifi</p></li></ul><p>Change the passwords as soon as you logged in.</p><p>If you want to build the image yourself, you can follow the instructions bellow.</p><h3 id=prepare-ubuntu-18-lts-for-raspberry-pi>Prepare ubuntu 18 LTS for Raspberry Pi<a hidden class=anchor aria-hidden=true href=#prepare-ubuntu-18-lts-for-raspberry-pi>#</a></h3><ul><li><p>go to <a href=https://wiki.ubuntu.com/ARM/RaspberryPi>Ubuntu PaspberryPi</a>,
download 18.04 LTS for armhf architecture:
<a href=http://cdimage.ubuntu.com/releases/bionic/release/ubuntu-18.04.3-preinstalled-server-armhf+raspi3.img.xz>ubuntu-18.04.3-preinstalled-server-armhf+raspi3.img.xz</a></p><p>I tried to run arm64 version but encountered issues with building ROS node for raspberry pi. With armhf it works.</p></li><li><p>write the image to SD card</p></li><li><p>to enable camera open <code>/boot/config.txt</code> on SD card and make sure the following lines are there:</p><pre><code>start_x=1             
gpu_mem=128    # at least, or more if you wish
</code></pre></li><li><p>insert the flash card into the Raspberry</p></li></ul><h3 id=connecting-raspberry>Connecting Raspberry<a hidden class=anchor aria-hidden=true href=#connecting-raspberry>#</a></h3><ul><li><p>Switch on the Raspberry</p></li><li><p>It turned out that Raspberry pi cannot connect to my laptop directly
with the default ethernet settings
(something is wrong with my DHCP settings).</p><ul><li><p>One option is to use router:</p><ul><li>Connect RPi to a router with a cable</li><li>connect your laptop to the same router</li></ul></li><li><p>Another option is to change the settings of the connection on the laptop so that the connection in shared.
This way IP gets automatically assigned to both laptop and Raspberry.
<img loading=lazy src=/media/2019-08-24-ros-experience/connection-editor-shared-lan-connection.png alt=connection-editor-shared-lan-connection></p></li><li><p>find the ip address of the connected Raspberry with one of the commands:</p><ul><li><code>nmap -sn YOUR_ROUTER_IP/24</code> or <code>nmap -sn YOUR_LAPTOP_IP/24</code>. the command may differ depending on the DHCP settings of your network.
In my case it is <code>nmap -sn 192.168.125.1/24</code></li><li>For direct connection: <code>arp -a</code></li></ul></li><li><p><code>ssh -X ubuntu@RASPBERRY_IP</code>, use password <code>ubuntu</code>.</p><ul><li><code>-X</code> option allows to run gui apps via ssh.</li></ul></li></ul></li></ul><h3 id=update-the-system>Update the system<a hidden class=anchor aria-hidden=true href=#update-the-system>#</a></h3><pre><code>sudo add-apt-repository ppa:ubuntu-raspi2/ppa  # for standard RPi tools 
sudo apt update &amp;&amp; sudo apt upgrade  # this will take some time
</code></pre><p>If the update doesn&rsquo;t work the reason could be time synchronization between ubuntu servers and raspberry py.
Try to install ntp: <code>sudo apt install ntp</code></p><h3 id=remove-unnecessary-tools>Remove unnecessary tools<a hidden class=anchor aria-hidden=true href=#remove-unnecessary-tools>#</a></h3><p>Removing cloud-init:</p><pre><code>sudo apt-get purge cloud-init
# archive file for a backup
sudo tar --remove-files -cvzf ~/backup-cloud-init.tar.gz /etc/cloud/ /var/lib/cloud/
sudo reboot  # restart
</code></pre><h3 id=install-ros-melodic>Install ROS Melodic<a hidden class=anchor aria-hidden=true href=#install-ros-melodic>#</a></h3><p>Follow the standard instructions from <a href=http://wiki.ros.org/melodic/Installation/Ubuntu>Ubuntu install of ROS Melodic</a>.
I was installing <code>sudo apt install -y ros-melodic-ros-base</code> to save some time and disk space.</p><h3 id=setting-up-a-node-for-raspberry-camera>Setting up a node for Raspberry Camera<a hidden class=anchor aria-hidden=true href=#setting-up-a-node-for-raspberry-camera>#</a></h3><p>I would like to use the standard RPi camera with ROS.
There is a node <a href=https://github.com/UbiquityRobotics/raspicam_node>raspicam_node</a> by Ubiquity, but there is no compiled version
for ROS melodic that I could install using <code>apt</code>. Let&rsquo;s compile it. I have checked out <code>kinetic</code> branch, revision <code>3209cd801b1006c8959540f4efc3774ee19aaa78</code>.</p><pre><code>mkdir -p ~/catkin_ws/src
cd ~/catkin_ws/src
git clone https://github.com/UbiquityRobotics/raspicam_node
cd ~/catkin_ws/
source /opt/ros/melodic/setup.bash
</code></pre><p>Open file <code>/etc/ros/rosdep/sources.list.d/30-ubiquity.list</code> and add there the line:</p><pre><code>yaml https://raw.githubusercontent.com/UbiquityRobotics/rosdep/master/raspberry-pi.yaml
</code></pre><p>Now update dependencies:</p><pre><code>rosdep update
cd ~/catkin_ws
rosdep install --from-paths src --ignore-src --rosdistro=melodic -y
</code></pre><p>Build:</p><pre><code>catkin_make install
</code></pre><p>Install rqt_image_view to see the results:</p><pre><code>sudo apt install -y ros-melodic-rqt-image-view
</code></pre><p>Install tools to work with raspberry camera:</p><pre><code>sudo apt install -y libraspberrypi-bin libraspberrypi-bin-nonfree
</code></pre><p>For example, now you can make a photo using raspi camera:</p><pre><code>raspistill -o img.jpg
</code></pre><p>Test run of the raspicam_node:</p><pre><code>source ~/catkin_ws/devel/setup.bash
roslaunch raspicam_node camerav2_1280x960.launch
</code></pre><p>You have to see the following line in the end:</p><pre><code>[ INFO] [1581100897.421303654]: Video capture started
</code></pre><p>Press Ctrl+C to stop the node.</p><p>If you get an error like this:</p><pre><code>setting /run_id to fb66ef3e-49d5-11ea-9db0-b827eb318c11
process[rosout-1]: started with pid [23520]
started core service [/rosout]
process[raspicam_node-2]: started with pid [23523]
mmal: mmal_vc_component_create: failed to create component 'vc.ril.camera' (1:ENOMEM)
mmal: mmal_component_create_core: could not create component 'vc.ril.camera' (1)
mmal: Failed to create camera component
[ERROR] [1581099401.593581701]: Failed to create camera component
[ERROR] [1581099401.596934388]: init_cam: Failed to create camera component
</code></pre><p>that mean you haven&rsquo;t enable camera. Look at the instructions above
about config.txt file.</p><p>Now you can try to run camera node in the background and run rqt_image_view to check if the camera works:</p><pre><code>roslaunch raspicam_node camerav2_1280x960.launch &amp;
rosrun rqt_image_view rqt_image_view
</code></pre><p>Result should look like this:</p><p><img loading=lazy src=/media/2019-08-24-ros-experience/rqt_image_view.jpg alt="rqt_image_view for raspicam_node, ros melodic on Raspberry pi 3 over ssh"></p><h3 id=enabling-wifi-connection>Enabling wifi connection<a hidden class=anchor aria-hidden=true href=#enabling-wifi-connection>#</a></h3><p>Let&rsquo;s say you want Raspberry pi to automatically connect to your home wifi network.</p><p>Install NetworkManager:</p><pre><code>sudo apt install -y network-manager
</code></pre><p>enable network manager</p><pre><code>sudo systemctl enable NetworkManager
sudo systemctl start NetworkManager
</code></pre><p>add a connection to your Wifi router</p><pre><code>nmcli device wifi rescan
nmcli device wifi list
nmcli device wifi connect SSID-Name password PASSWORD
</code></pre><h4 id=enable-hot-spot-wifi-on-raspberrypi-ubuntu-1804>Enable hot spot Wifi on RaspberryPi (ubuntu 18.04)<a hidden class=anchor aria-hidden=true href=#enable-hot-spot-wifi-on-raspberrypi-ubuntu-1804>#</a></h4><p>Enabling hotspot on raspberry allows connection via Wifi without having a router or ethernet cable.</p><p>install and enable network manager as described above</p><p>Create hotspot connection:</p><pre><code>sudo nmcli dev wifi hotspot ifname wlan0 ssid ub_rpi_net password &quot;robotwifi&quot;
</code></pre><p>Enable autoconnection and enable the connection:</p><pre><code>sudo nmcli connection modify Hotspot connection.autoconnect True
nmcli con up Hotspot
</code></pre><p>You can change the default IP addresses for the Hotspot (optional):</p><pre><code>sudo nmcli connection modify Hotspot ipv4.addresses 192.168.111.1/24
sudo nmcli connection modify Hotspot ipv4.gateway 192.168.111.1
</code></pre><p>restart network manager to enable the changes:</p><pre><code>sudo systemctl restart NetworkManager
</code></pre><p>Your <code>/etc/NetworkManager/system-connections/Hotspot</code> file will look like this:</p><pre><code>ubuntu@ubuntu:~/catkin_ws$ sudo cat /etc/NetworkManager/system-connections/Hotspot 
[connection]
id=Hotspot
uuid=a1103c90-07ab-4a2b-ba54-e267a716df2d
type=wifi
permissions=
timestamp=1581101574

[wifi]
mac-address=B8:27:EB:64:D9:44
mac-address-blacklist=
mode=ap
seen-bssids=B8:27:EB:64:D9:44;
ssid=ub_rpi_net

[wifi-security]
group=ccmp;
key-mgmt=wpa-psk
pairwise=ccmp;
proto=rsn;
psk=robotwifi

[ipv4]
address1=192.168.111.1/24,192.168.111.1
dns-search=
method=shared

[ipv6]
addr-gen-mode=stable-privacy
dns-search=
method=ignore
</code></pre><p>After that you should be able to connect your laptop to the hotspot and ssh to another address: <code>ssh -X ubuntu@192.168.111.1</code></p><h3 id=creating-an-image-of-the-sd-card-for-recovery>Creating an image of the SD card for recovery<a hidden class=anchor aria-hidden=true href=#creating-an-image-of-the-sd-card-for-recovery>#</a></h3><p>One can create the image using the standard Ubuntu Disks app on your laptop.
Alternatively we can use <code>dd</code> with saves some clicks, but more dangerous is a way.</p><p>Assuming <code>/dev/mmcblk0</code> is your SD card. Creating an image for the whole SD card:</p><pre><code>dd bs=1M if=/dev/mmcblk0 | gzip -c --fast| dd of=/path/to/image.gz
</code></pre><p>That is the safest option.</p><p>In my case the SD card is 32 Gb and the disk space occupied is about 6Gb. To save some disk space and decrease the
image size I resize the partition &ldquo;writable&rdquo; to something about 5.5 Gb, and then create a shorter version that should
also work:</p><pre><code>dd bs=1M count=&lt;size_in_MBs&gt; if=/dev/mmcblk0 | gzip -c --fast| dd of=/path/to/image.gz
</code></pre><p><code>size_in_MBs</code> is 6000 for me to cover both partitions.</p><p><img loading=lazy src=/media/2019-08-24-ros-experience/free-space-sd-card.png alt="Creating an image of the SD card for recovery"></p><p>How to restore the image.</p><pre tabindex=0><code>dd if=/path/to/image.gz | gunzip -c | dd bs=1M of=/dev/mmcblk0
</code></pre><p>Be careful. There is no safety net for this command. You can corrupt your data.
Better use &ldquo;Disks&rdquo; app to be on the safe side.</p><p>That&rsquo;s it. We have created an image!</p><h3 id=extra-notes>Extra notes:<a hidden class=anchor aria-hidden=true href=#extra-notes>#</a></h3><p>There is some cloud-init function in that Ubuntu image but I didn&rsquo;t manage to make it work.
It seems some people are more successful with that:
<a href=https://gitlab.com/Bjorn_Samuelsson/raspberry-pi-cloud-init-wifi.git>https://gitlab.com/Bjorn_Samuelsson/raspberry-pi-cloud-init-wifi.git</a></p><h4 id=some-guides>Some guides:<a hidden class=anchor aria-hidden=true href=#some-guides>#</a></h4><ul><li><p><a href=https://roboticsbackend.com/install-ros-on-raspberry-pi-3/>https://roboticsbackend.com/install-ros-on-raspberry-pi-3/</a></p></li><li><p><a href="https://www.youtube.com/watch?v=VFuHG-Ho4Fk">https://www.youtube.com/watch?v=VFuHG-Ho4Fk</a></p></li><li><p><a href=https://roboticsweekends.blogspot.com/2017/12/how-to-install-ros-on-raspberry-pi-2-or.html>https://roboticsweekends.blogspot.com/2017/12/how-to-install-ros-on-raspberry-pi-2-or.html</a></p></li><li><p><a href=https://wiki.ros.org/ROSberryPi/Installing%20ROS%20Kinetic%20on%20the%20Raspberry%20Pi>https://wiki.ros.org/ROSberryPi/Installing%20ROS%20Kinetic%20on%20the%20Raspberry%20Pi</a></p></li></ul><h1 id=rosserial>Rosserial<a hidden class=anchor aria-hidden=true href=#rosserial>#</a></h1><p>Getting a lot of errors</p><pre tabindex=0><code>[INFO] [1583529448.984198]: wrong checksum for topic id and msg
[ERROR] [1583529515.481192]: Lost sync with device, restarting...
[INFO] [1583529515.484453]: Requesting topics...
</code></pre><p>may be caused by some blocking operations in arduino. I was using a standard library for Adafruit PCA9685. The library
uses some synchronous calls from Wire.h. It seems that was causing issues.</p><h1 id=cmake--clion--ros>Cmake + Clion + ROS<a hidden class=anchor aria-hidden=true href=#cmake--clion--ros>#</a></h1><p>In order to have ROS environment and dependencies loaded to CLion one has to launch CLion in the sourced environment.</p><pre><code>source ./devel/setup.bash
sh PATH_TO_CLION/bin/clion.sh
</code></pre><p>Then open a ROS project:
<code>File -> Open -> select YOUR_ROS_WORKSPACE/src/CMakeLists.txt -> Open as Project</code>.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://serge-m.github.io/tags/ros/>ros</a></li><li><a href=https://serge-m.github.io/tags/linux/>linux</a></li><li><a href=https://serge-m.github.io/tags/robotics/>robotics</a></li><li><a href=https://serge-m.github.io/tags/raspberry/>raspberry</a></li><li><a href=https://serge-m.github.io/tags/pi/>pi</a></li><li><a href=https://serge-m.github.io/tags/ubuntu/>ubuntu</a></li><li><a href=https://serge-m.github.io/tags/melodic/>melodic</a></li><li><a href=https://serge-m.github.io/tags/kinetic/>kinetic</a></li><li><a href=https://serge-m.github.io/tags/camera/>camera</a></li><li><a href=https://serge-m.github.io/tags/tensorflow/>tensorflow</a></li></ul><nav class=paginav><a class=prev href=https://serge-m.github.io/posts/robocar/><span class=title>« Prev Page</span><br><span>Robocar project</span></a>
<a class=next href=https://serge-m.github.io/posts/lenovo-e490/><span class=title>Next Page »</span><br><span>Lenovo E490 memory upgrade</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share ROS experience on twitter" href="https://twitter.com/intent/tweet/?text=ROS%20experience&url=https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f&hashtags=ros%2clinux%2crobotics%2craspberry%2cpi%2cubuntu%2cmelodic%2ckinetic%2ccamera%2ctensorflow"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ROS experience on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f&title=ROS%20experience&summary=ROS%20experience&source=https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ROS experience on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f&title=ROS%20experience"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ROS experience on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ROS experience on whatsapp" href="https://api.whatsapp.com/send?text=ROS%20experience%20-%20https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ROS experience on telegram" href="https://telegram.me/share/url?text=ROS%20experience&url=https%3a%2f%2fserge-m.github.io%2fposts%2fros-experience%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://serge-m.github.io/>sergem's personal public notebook</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById("menu").scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById("menu").scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>